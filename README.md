# OptFinance

## Описание проекта

Видение проекта заключается в создании современного веб-сервиса для анализа и формирования криптовалютного портфеля, позволяющего пользователю выбирать уровень риска и доходности и получать прогноз по доходности и убыткам. Сервис обеспечивает хранение данных пользователей и исторических котировок криптовалют, предоставляет информацию о монетах, позволяет анализировать и корректировать портфель, а также включает адаптивный интерфейс для различных устройств, поддержку двух языков и встроенный чат для взаимодействия с поддержкой.

## Стек технологий

- Core: Python, Django
- Solvers: HiGHS (MILP, QP), SCIP (MIQP, MINLP)
- Tools: Python or Julia- scripts, C++ - algorithms, C - performance improvement, python - ML
 
## Роли пользователей

- Guest - базовое использование сайта, просмотр общедоступных страниц, смена языка, создание профиля
- User - управление существующими портфелями, создание новых портфелей, добавление статей в раздел "Новости"
- Admin - просмотр и управление БД с целью модерации, ответ пользователям в чате поддержки

![Roles](./roles.png)

## Схема БД

![ER diagram](./ER_diagram.jpg)

## API

- get_user_info - используется для просмотра информации о пользователе
- change_user_info - используется для внутренних нужд (создание профилей, изменение данных)
- save_message - используется для сохранения сообщений из чата поддержки с определенным пользователем
- get_portfolio_info - используется для получения детальной информации по заданному портфелю 
- change_portfolio_info - используется для получения детальной информации по заданному портфелю 
- get_crypto_info - используется для получения внутренней информации о выбранном токене
- set_crypto_info - используется для задания внутренней информации о выбранном токене

## Swagger

Crypto Platform API
Это API для регистрации, аутентификации и работы с криптовалютами, биржами и новостями.
Как использовать Swagger UI
Swagger UI предоставляет интерактивную документацию для этого API, позволяя вам просматривать доступные эндпоинты, их параметры и возможные ответы, а также тестировать их прямо из браузера.
Доступ к Swagger UI
Вы можете получить доступ к Swagger UI, перейдя по следующему URL в вашем браузере:
http://localhost:8000/swagger?format=openapi
Навигация по документации
После открытия Swagger UI вы увидите список категорий (тегов), таких как cryptocurrencies, exchanges, news и registration. Каждая категория содержит список доступных эндпоинтов.
Нажмите на любой эндпоинт, чтобы развернуть его и увидеть подробную информацию:
HTTP метод: (GET, POST, PUT, PATCH, DELETE)
Путь: URL эндпоинта.
Описание: Краткое описание функциональности эндпоинта.
Параметры: Все входные параметры, необходимые для запроса (путь, запрос, тело).
Ответы: Возможные коды состояния HTTP и форматы ответов.
Аутентификация
Некоторые эндпоинты требуют аутентификации. Вы можете авторизоваться, используя кнопку "Authorize" в правом верхнем углу страницы.
Нажмите кнопку "Authorize".
В появившемся диалоговом окне выберите метод аутентификации (например, Bearer Token).
Введите ваш токен доступа в соответствующее поле (например, Bearer <YOUR_ACCESS_TOKEN>).
Нажмите "Authorize", затем "Close".
После успешной авторизации, замки рядом с защищенными эндпоинтами изменятся на закрытые.
Тестирование эндпоинтов
Вы можете протестировать любой эндпоинт прямо из Swagger UI:
Разверните эндпоинт, который вы хотите протестировать.
Нажмите кнопку "Try it out".
Если эндпоинт требует параметры, введите их в соответствующие поля.
Для параметров пути (например, {coin_id}) введите значение непосредственно в поле.
Для параметров запроса (query parameters) введите значения в соответствующие поля.
Для тела запроса (request body) вы можете отредактировать предоставленный пример JSON.
Нажмите кнопку "Execute".
Вы увидите "Curl" команду, URL запроса, код ответа, тело ответа и заголовки ответа.

Описание API Эндпоинтов
Cryptocurrencies
GET /cryptocurrencies/
Получить список всех доступных криптовалют.
GET /cryptocurrencies/{coin_id}/
Получить информацию о конкретной криптовалюте по её ID.
Exchanges
GET /exchanges/
Получить список всех доступных бирж.
GET /exchanges/{exchange_id}/
Получить информацию о конкретной бирже по её ID.
News
GET /news/
Получить список всех новостей.
POST /news/create/
Создать новую новость. Требуется аутентификация.
GET /news/{news_id}/
Получить информацию о конкретной новости по её ID.
PUT /news/{news_id}/update/
Полностью обновить существующую новость по её ID. Требуется аутентификация.
PATCH /news/{news_id}/update/
Частично обновить существующую новость по её ID. Требуется аутентификация.
Registration (Аутентификация и Управление Пользователями)
POST /registration/auth/login/
Авторизовать пользователя и получить токены доступа/обновления.
POST /registration/auth/logout/
Выйти из системы (отозвать токены). Требуется аутентификация.
GET /registration/auth/profile/
Получить профиль текущего аутентифицированного пользователя. Требуется аутентификация.
POST /registration/auth/refresh/
Обновить токены доступа с помощью токена обновления.
POST /registration/auth/register/
Зарегистрировать нового пользователя.
POST /registration/chat/send/
Отправить сообщение в чат. Требуется аутентификация.
GET /registration/users/{user_id}/
Получить информацию о конкретном пользователе по его ID. Требуется аутентификация.
DELETE /registration/users/{user_id}/delete/
Удалить пользователя по его ID. Требуется аутентификация.
POST /registration/users/{user_id}/update/
Обновить информацию о пользователе по его ID. Требуется аутентификация.
